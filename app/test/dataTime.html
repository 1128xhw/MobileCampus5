<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    var a = formatDate2(1491239200000);
    console.log(a);
    function formatDate2(t){
        //var time = "2015-03-24T13:50:52.5";
        var date = new Date();
        var time = new Date(t);
        var dateString1 = time.getFullYear()+"-"+(time.getMonth()+1)+"-"+time.getDate();
        var y = time.getFullYear(t);
        var yNow = date.getFullYear();
        if(y==yNow){
            var m = time.getMonth();
            var mNow = date.getMonth();
            if(m==mNow){
                var d = time.getDate();
                var dNow = date.getDate();
                if(d == dNow){
                    dateString1 = '今天';
                }else if(d == dNow-1){
                    dateString1 = '昨天';
                }else if(d == dNow-2){
                    dateString1 = '前天';
                }
            }

        }
        var dateString2 = time.getHours()+":"+time.getMinutes()+":"+time.getSeconds();
        var dateString = dateString1+' '+dateString2;
        return dateString;
    }
</script>
</body>
</html>